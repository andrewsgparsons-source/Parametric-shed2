<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Parametric Shed — Views</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./styles.css">
</head>

<body data-view="3d">
  <canvas id="renderCanvas" tabindex="0" aria-hidden="false"></canvas>
  <div id="statusOverlay">status...</div>

  <div id="topbar">
    <select id="viewSelect" aria-label="Select view">
      <option value="3d" selected>3D Scene View</option>
      <option value="walls">Walls Cutting List</option>
      <option value="base">Base Cutting List</option>
      <option value="roof">Roof Cutting List</option>
    </select>
  </div>

  <div id="ui-layer" aria-hidden="true"></div>

  <div id="controls" aria-label="Controls">
    <aside id="controlPanel" aria-label="Controls panel">
      <details open>
        <summary>Controls <span style="font-weight:700;font-size:12px;color:#666;">(toggle)</span></summary>
        <div class="inner">
          <form aria-label="Shed controls">

            <!-- WALLS -->
            <fieldset>
              <legend>Walls</legend>
              <div class="row">
                <label>
                  Stud/Plate Size
                  <select id="wallSection">
                    <option value="50x75">50×75</option>
                    <option value="50x100" selected>50×100</option>
                  </select>
                </label>
                <label>
                  Variant
                  <select id="wallsVariant">
                    <option value="insulated" selected>insulated</option>
                    <option value="basic">basic</option>
                  </select>
                </label>
              </div>
            </fieldset>

            <!-- DOORS -->
            <fieldset>
              <legend>Doors</legend>
              <div class="row">
                <button id="addDoorBtn" type="button">Add Door</button>
                <button id="removeAllDoorsBtn" type="button">Remove All Doors</button>
              </div>
              <div id="doorsList"></div>
            </fieldset>

            <!-- WINDOWS -->
            <fieldset>
              <legend>Windows</legend>
              <div class="row">
                <button id="addWindowBtn" type="button">Add Window</button>
                <button id="removeAllWindowsBtn" type="button">Remove All Windows</button>
              </div>
              <div id="windowsList"></div>
            </fieldset>

            <!-- DIMENSIONS -->
            <fieldset>
              <legend>Dimensions</legend>
              <div class="row">
                <label>
                  Mode
                  <select id="dimMode">
                    <option value="base" selected>base</option>
                    <option value="frame">frame</option>
                    <option value="roof">roof</option>
                  </select>
                </label>
              </div>

              <div class="row">
                <label>Width (mm)<input id="wInput" type="number" value="3000" /></label>
                <label>Depth (mm)<input id="dInput" type="number" value="4000" /></label>
              </div>
            </fieldset>

            <!-- ROOF -->
            <fieldset>
              <legend>Roof</legend>
              <div class="row">
                <label>
                  Roof Style
                  <select id="roofStyle">
                    <option value="apex" selected>Apex (gabled)</option>
                    <option value="pent">Pent</option>
                    <option value="hipped">Hipped</option>
                  </select>
                </label>
              </div>
            </fieldset>

            <!-- VISIBILITY (ALL MOVED HERE) -->
            <fieldset>
              <legend>Visibility</legend>

              <strong>Assemblies</strong>
              <div class="checks">
                <label class="check"><input id="vWalls" type="checkbox" checked /> Walls</label>
                <label class="check"><input id="vBase" type="checkbox" checked /> Base</label>
                <label class="check"><input id="vRoof" type="checkbox" checked /> Roof</label>
              </div>

              <strong>Base Components</strong>
              <div class="checks">
                <label class="check"><input id="vFrame" type="checkbox" checked /> Timber Frame</label>
                <label class="check"><input id="vIns" type="checkbox" checked /> Insulation</label>
                <label class="check"><input id="vDeck" type="checkbox" checked /> Decking</label>
              </div>

              <strong>Wall Components</strong>
              <div class="checks">
                <label class="check"><input id="vWallFront" type="checkbox" checked /> Front</label>
                <label class="check"><input id="vWallBack" type="checkbox" checked /> Back</label>
                <label class="check"><input id="vWallLeft" type="checkbox" checked /> Left</label>
                <label class="check"><input id="vWallRight" type="checkbox" checked /> Right</label>
              </div>

              <strong>Roof Components</strong>
              <div class="checks">
                <label class="check"><input id="vRoofStructure" type="checkbox" checked /> Structure</label>
                <label class="check"><input id="vRoofOSB" type="checkbox" checked /> OSB / Sheathing</label>
              </div>
            </fieldset>

          </form>
        </div>
      </details>
    </aside>
  </div>

  <script src="https://cdn.babylonjs.com/babylon.js"></script>
  <script type="module" src="./src/index.js"></script>
  <script type="module">
    import { initViews } from './src/views.js';
    initViews();
  </script>
</body>
</html>
